# 检查与错误

<!-- toc -->

当你保存一个笔记类型或导出一个牌组时，Anki 2.1.45+ 会检查一些常见错误。这些错误会在之后当任何人学习
受影响的卡片时引发问题，因此在你修复这些错误之前，Anki 不会让你继续操作。

## 基础

在进一步阅读之前，请参阅[关键概念](../getting-started.md#关键概念)。

下面的大多数错误都需要你修改你的笔记类型/卡片模板。要执行此操作：

- 打开浏览界面，并查看左侧的项目。
- 找到错误消息中提到的笔记类型。如果需要，你可以使用左上角的搜索栏。
- 点击笔记类型，以显示其卡片/笔记在右侧。
- 点击编辑区域顶部的卡片...按钮，打开[模板界面](./intro.md#模板界面)。

## 特定问题

### 模板语法错误

这种错误表示错误使用了[字段替换](./fields.md)语法。访问报告中的笔记和卡片类型的
[模板界面](./intro.md#模板界面)，查看预览区域以获取更多信息。关于模板问题，还有一
些[更多信息](https://faqs.ankiweb.net/card-template-has-a-problem.html)可用。

### 相同的正面

你已将 Anki 配置为为每个输入创建两个相同的问题。如果你添加了一个新的卡片类型而没有对其进行任何调整，
则可能发生这种情况。相同的卡片会加倍你的工作量，并降低 Anki 的调度效率。

要解决此问题，请打开[模板界面](./intro.md#模板界面)，并在顶部选择一个重复的。然后使用右上方的按钮删
除所选的卡片类型。这将删除所有使用该卡片类型的重复卡片/笔记。

### 正面无字段替换

如果你没有在卡片类型的前模板中使用[字段替换](./fields.md)，则从中创建的每个卡片在问题面都会看起来相
同，无论其笔记为何。这样将无法回答卡片，因为你不知道期望的答案是什么。

要解决此问题，请打开[模板界面](./intro.md#模板界面)，并点击添加字段按钮，在前面添加一个或多个字段。

### 填空过滤器在非填空笔记类型中

[填空](../editing.md#完形填空)过滤器（如 `{{cloze:Some Field}}`）只能用于填空笔记类型，及其克隆的类
型。

如果你遇到此错误，可以从模板中移除填空过滤器。

如果有使用该笔记类型但包含填空的笔记，你可以在浏览界面中选择它们，并使用更改笔记类型操作分配它们到一
个标准填空笔记类型。

旧版本的 Anki 在你尝试在普通笔记类型上使用填空时不会发出警告，但这从来不是一个意图支持的用例。如果你
想将填空与常规卡片结合使用，你可以寻找像 Closet 插件这样的插件提供一些替代方案。

### 填空笔记类型中无填空过滤器

一个填空笔记类型的正反模板应该有一个[填空](../editing.md#完形填空)过滤器。如果缺少，你需要添加回来，
以便 Anki 可以正确创建填空卡片。
